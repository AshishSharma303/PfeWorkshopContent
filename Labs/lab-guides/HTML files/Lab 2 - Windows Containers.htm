<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>Developing Applications with Containers</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"Consolas\,Calibri Light";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:OpenSans;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"\@MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	border:none;
	padding:0in;
	font-size:22.0pt;
	font-family:"Segoe UI",sans-serif;
	color:black;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:24.0pt;
	margin-right:.1in;
	margin-bottom:12.0pt;
	margin-left:0in;
	page-break-before:always;
	page-break-after:avoid;
	border:none;
	padding:0in;
	font-size:20.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#4F81BD;
	font-weight:normal;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Segoe UI",sans-serif;
	color:black;}
h4
	{mso-style-link:"Heading 4 Char";
	margin-top:0in;
	margin-right:.1in;
	margin-bottom:3.0pt;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Segoe UI",sans-serif;}
h6
	{mso-style-link:"Heading 6 Char";
	margin-top:0in;
	margin-right:.1in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Segoe UI",sans-serif;
	font-style:italic;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:12.0pt;
	font-family:"Calibri",sans-serif;
	font-weight:bold;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:11.0pt;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;
	font-weight:bold;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:22.0pt;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:33.0pt;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:44.0pt;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:55.0pt;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc7, li.MsoToc7, div.MsoToc7
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:66.0pt;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc8, li.MsoToc8, div.MsoToc8
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:77.0pt;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoToc9, li.MsoToc9, div.MsoToc9
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:88.0pt;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:10.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{mso-style-link:"Comment Text Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Cambria",serif;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"Header Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"Footer Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	text-align:center;
	font-size:9.0pt;
	font-family:"Cambria",serif;
	color:#1F497D;}
span.MsoEndnoteReference
	{vertical-align:super;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{mso-style-link:"Document Map Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
p.MsoCommentSubject, li.MsoCommentSubject, div.MsoCommentSubject
	{mso-style-link:"Comment Subject Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	font-size:10.0pt;
	font-family:"Cambria",serif;
	font-weight:bold;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	font-size:8.0pt;
	font-family:"Tahoma",sans-serif;}
span.MsoPlaceholderText
	{color:gray;}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
p.MsoRMPane, li.MsoRMPane, div.MsoRMPane
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{mso-style-link:"List Paragraph Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.5in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{mso-style-link:"List Paragraph Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{mso-style-link:"List Paragraph Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{mso-style-link:"List Paragraph Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:.5in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	font-size:14.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#365F91;
	font-weight:bold;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma",sans-serif;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Segoe UI",sans-serif;
	color:black;
	font-weight:bold;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Segoe UI",sans-serif;
	color:#4F81BD;}
span.Heading6Char
	{mso-style-name:"Heading 6 Char";
	mso-style-link:"Heading 6";
	font-family:"Segoe UI",sans-serif;
	font-weight:bold;
	font-style:italic;}
p.Bullet, li.Bullet, div.Bullet
	{mso-style-name:Bullet;
	mso-style-link:"Bullet Char";
	margin-top:0in;
	margin-right:.1in;
	margin-bottom:6.0pt;
	margin-left:.8in;
	text-indent:-.25in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
span.Heading4Char
	{mso-style-name:"Heading 4 Char";
	mso-style-link:"Heading 4";
	font-family:"Segoe UI",sans-serif;
	font-weight:bold;}
span.BulletChar
	{mso-style-name:"Bullet Char";
	mso-style-link:Bullet;
	font-family:"Cambria",serif;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Segoe UI",sans-serif;
	color:black;
	font-weight:bold;}
p.High-levelsteps, li.High-levelsteps, div.High-levelsteps
	{mso-style-name:"High-level steps";
	mso-style-link:"High-level steps Char";
	margin-top:0in;
	margin-right:.1in;
	margin-bottom:6.0pt;
	margin-left:.6in;
	text-indent:-.25in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;
	color:black;
	font-weight:bold;}
p.Granularsteps, li.Granularsteps, div.Granularsteps
	{mso-style-name:"Granular steps";
	mso-style-link:"Granular steps Char";
	margin-top:0in;
	margin-right:.1in;
	margin-bottom:6.0pt;
	margin-left:85.5pt;
	text-indent:-.25in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;
	color:black;}
span.High-levelstepsChar
	{mso-style-name:"High-level steps Char";
	mso-style-link:"High-level steps";
	font-family:"Cambria",serif;
	color:black;
	font-weight:bold;}
p.BulletIndent, li.BulletIndent, div.BulletIndent
	{mso-style-name:"Bullet Indent";
	mso-style-link:"Bullet Indent Char";
	margin-top:0in;
	margin-right:.1in;
	margin-bottom:6.0pt;
	margin-left:1.3in;
	text-indent:-.25in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
span.GranularstepsChar
	{mso-style-name:"Granular steps Char";
	mso-style-link:"Granular steps";
	font-family:"Cambria",serif;
	color:black;}
p.BulletIndentIndent, li.BulletIndentIndent, div.BulletIndentIndent
	{mso-style-name:"Bullet Indent Indent";
	mso-style-link:"Bullet Indent Indent Char";
	margin-top:0in;
	margin-right:.1in;
	margin-bottom:6.0pt;
	margin-left:1.65in;
	text-indent:-.25in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
span.BulletIndentChar
	{mso-style-name:"Bullet Indent Char";
	mso-style-link:"Bullet Indent";
	font-family:"Cambria",serif;}
p.moregranularsteps, li.moregranularsteps, div.moregranularsteps
	{mso-style-name:"more granular steps";
	mso-style-link:"more granular steps Char";
	margin-top:0in;
	margin-right:.1in;
	margin-bottom:6.0pt;
	margin-left:102.95pt;
	text-indent:-9.35pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;
	color:black;}
span.BulletIndentIndentChar
	{mso-style-name:"Bullet Indent Indent Char";
	mso-style-link:"Bullet Indent Indent";
	font-family:"Cambria",serif;}
p.NotesCourse, li.NotesCourse, div.NotesCourse
	{mso-style-name:Notes_Course;
	margin-top:0in;
	margin-right:.1in;
	margin-bottom:6.0pt;
	margin-left:.1in;
	font-size:9.0pt;
	font-family:"Segoe UI",sans-serif;}
span.moregranularstepsChar
	{mso-style-name:"more granular steps Char";
	mso-style-link:"more granular steps";
	font-family:"Cambria",serif;
	color:black;}
span.HeaderChar
	{mso-style-name:"Header Char";
	mso-style-link:Header;
	font-family:"Cambria",serif;}
span.FooterChar
	{mso-style-name:"Footer Char";
	mso-style-link:Footer;
	font-family:"Cambria",serif;}
p.Code, li.Code, div.Code
	{mso-style-name:Code;
	mso-style-link:"Code Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:1.0in;
	line-height:115%;
	background:#D9D9D9;
	font-size:11.0pt;
	font-family:Consolas;}
span.CodeChar
	{mso-style-name:"Code Char";
	mso-style-link:Code;
	font-family:Consolas;
	background:#D9D9D9;}
span.CommentTextChar
	{mso-style-name:"Comment Text Char";
	mso-style-link:"Comment Text";
	font-family:"Cambria",serif;}
span.CommentSubjectChar
	{mso-style-name:"Comment Subject Char";
	mso-style-link:"Comment Subject";
	font-family:"Cambria",serif;
	font-weight:bold;}
p.IndentedListParagraph, li.IndentedListParagraph, div.IndentedListParagraph
	{mso-style-name:"Indented List Paragraph";
	mso-style-link:"Indented List Paragraph Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:1.0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
p.IndentedListParagraphCxSpFirst, li.IndentedListParagraphCxSpFirst, div.IndentedListParagraphCxSpFirst
	{mso-style-name:"Indented List ParagraphCxSpFirst";
	mso-style-link:"Indented List Paragraph Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:1.0in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
p.IndentedListParagraphCxSpMiddle, li.IndentedListParagraphCxSpMiddle, div.IndentedListParagraphCxSpMiddle
	{mso-style-name:"Indented List ParagraphCxSpMiddle";
	mso-style-link:"Indented List Paragraph Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:1.0in;
	margin-bottom:.0001pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
p.IndentedListParagraphCxSpLast, li.IndentedListParagraphCxSpLast, div.IndentedListParagraphCxSpLast
	{mso-style-name:"Indented List ParagraphCxSpLast";
	mso-style-link:"Indented List Paragraph Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:1.0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
span.ListParagraphChar
	{mso-style-name:"List Paragraph Char";
	mso-style-link:"List Paragraph";
	font-family:"Cambria",serif;}
span.IndentedListParagraphChar
	{mso-style-name:"Indented List Paragraph Char";
	mso-style-link:"Indented List Paragraph";
	font-family:"Cambria",serif;}
p.LabTitle, li.LabTitle, div.LabTitle
	{mso-style-name:"Lab Title";
	mso-style-link:"Lab Title Char";
	margin-top:24.0pt;
	margin-right:.1in;
	margin-bottom:12.0pt;
	margin-left:0in;
	page-break-before:always;
	page-break-after:avoid;
	border:none;
	padding:0in;
	font-size:20.0pt;
	font-family:"Segoe UI",sans-serif;
	color:#4F81BD;}
p.IgnoredText, li.IgnoredText, div.IgnoredText
	{mso-style-name:"Ignored Text";
	mso-style-link:"Ignored Text Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Segoe UI",sans-serif;
	color:gray;}
span.LabTitleChar
	{mso-style-name:"Lab Title Char";
	mso-style-link:"Lab Title";
	font-family:"Segoe UI",sans-serif;
	color:#4F81BD;}
p.TaskHeading, li.TaskHeading, div.TaskHeading
	{mso-style-name:"Task Heading";
	mso-style-link:"Task Heading Char";
	margin-top:0in;
	margin-right:.1in;
	margin-bottom:3.0pt;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Segoe UI",sans-serif;
	font-weight:bold;}
span.IgnoredTextChar
	{mso-style-name:"Ignored Text Char";
	mso-style-link:"Ignored Text";
	font-family:"Segoe UI",sans-serif;
	color:gray;
	font-weight:normal;}
p.TaskName, li.TaskName, div.TaskName
	{mso-style-name:"Task Name";
	mso-style-link:"Task Name Char";
	margin-top:0in;
	margin-right:.1in;
	margin-bottom:6.0pt;
	margin-left:.75in;
	text-indent:-.25in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;
	color:black;
	font-weight:bold;}
span.TaskHeadingChar
	{mso-style-name:"Task Heading Char";
	mso-style-link:"Task Heading";
	font-family:"Segoe UI",sans-serif;
	font-weight:bold;}
p.TaskDetail, li.TaskDetail, div.TaskDetail
	{mso-style-name:"Task Detail";
	mso-style-link:"Task Detail Char";
	margin-top:0in;
	margin-right:.1in;
	margin-bottom:6.0pt;
	margin-left:67.5pt;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;
	color:black;}
span.TaskNameChar
	{mso-style-name:"Task Name Char";
	mso-style-link:"Task Name";
	font-family:"Cambria",serif;
	color:black;
	font-weight:bold;}
p.ExerciseScenerio, li.ExerciseScenerio, div.ExerciseScenerio
	{mso-style-name:"Exercise Scenerio";
	mso-style-link:"Exercise Scenerio Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
span.TaskDetailChar
	{mso-style-name:"Task Detail Char";
	mso-style-link:"Task Detail";
	font-family:"Cambria",serif;
	color:black;
	font-weight:normal;}
p.Note, li.Note, div.Note
	{mso-style-name:Note;
	mso-style-link:"Note Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:11.0pt;
	font-family:"Cambria",serif;}
span.ExerciseScenerioChar
	{mso-style-name:"Exercise Scenerio Char";
	mso-style-link:"Exercise Scenerio";
	font-family:"Cambria",serif;}
p.Alert, li.Alert, div.Alert
	{mso-style-name:Alert;
	mso-style-link:"Alert Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:1.0in;
	line-height:115%;
	background:#FFCC66;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Cambria",serif;
	color:black;}
span.NoteChar
	{mso-style-name:"Note Char";
	mso-style-link:Note;
	font-family:"Cambria",serif;
	color:black;
	font-weight:normal;}
p.CompletionMessage, li.CompletionMessage, div.CompletionMessage
	{mso-style-name:"Completion Message";
	mso-style-link:"Completion Message Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:0in;
	line-height:115%;
	font-size:12.0pt;
	font-family:"Cambria",serif;
	font-style:italic;}
span.AlertChar
	{mso-style-name:"Alert Char";
	mso-style-link:Alert;
	font-family:"Cambria",serif;
	color:black;
	background:#FFCC66;
	font-weight:normal;}
p.Idea, li.Idea, div.Idea
	{mso-style-name:Idea;
	mso-style-link:"Idea Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:10.0pt;
	margin-left:1.0in;
	line-height:115%;
	background:#DBE5F1;
	border:none;
	padding:0in;
	font-size:11.0pt;
	font-family:"Segoe UI",sans-serif;}
span.CompletionMessageChar
	{mso-style-name:"Completion Message Char";
	mso-style-link:"Completion Message";
	font-family:"Cambria",serif;
	font-style:italic;}
p.ExerciseHeading, li.ExerciseHeading, div.ExerciseHeading
	{mso-style-name:"Exercise Heading";
	mso-style-link:"Exercise Heading Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:12.0pt;
	margin-left:0in;
	line-height:115%;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Segoe UI",sans-serif;
	color:black;
	font-weight:bold;}
span.IdeaChar
	{mso-style-name:"Idea Char";
	mso-style-link:Idea;
	font-family:"Segoe UI",sans-serif;
	background:#DBE5F1;}
span.ExerciseHeadingChar
	{mso-style-name:"Exercise Heading Char";
	mso-style-link:"Exercise Heading";
	font-family:"Segoe UI",sans-serif;
	color:black;
	font-weight:bold;}
span.DocumentMapChar
	{mso-style-name:"Document Map Char";
	mso-style-link:"Document Map";
	font-family:"Times New Roman",serif;}
span.Mentionnonrsolue1
	{mso-style-name:"Mention non résolue1";
	color:gray;
	background:#E6E6E6;}
span.msportalfx-specpicker-header-title
	{mso-style-name:msportalfx-specpicker-header-title;}
.MsoChpDefault
	{font-family:"Calibri",sans-serif;}
.MsoPapDefault
	{margin-bottom:10.0pt;
	line-height:115%;}
 /* Page Definitions */
 @page WordSection1
	{size:11.0in 8.5in;
	margin:1.0in 1.0in 1.0in 1.0in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body lang=EN-US link=blue vlink=purple>

<div class=WordSection1>

<p class=MsoTocHeading>Table of Contents</p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc504835417">Lab: Module
2 – Getting Started with Windows Containers<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>2</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc504835418">Duration: 80
minutes<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>2</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc504835419">Exercise 1: 
Working with Nano Server &amp; Windows Server Core Containers<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>2</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc504835420">Exercise 2: 
Building and Running an IIS Server Windows Container Image<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>6</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc504835421">Exercise 3: 
Building and Running ASP.NET 4.5 Application in a Container Image<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>11</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc504835422">Exercise 4: 
Building and Running SQL Server 2016 in a Container Image<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>16</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc504835423">Exercise 5: 
Making ASP.NET 4.5 Container Connection to SQL Server Container<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>24</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc504835424">Exercise 6: 
Building an ASP.NET Core Application<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>29</span></a></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<div style='border:none;border-bottom:solid #333399 1.0pt;padding:0in 0in 1.0pt 0in;
margin-left:0in;margin-right:.1in'>

<p class=LabTitle><a name="_Toc504835417">Lab: Module 2 – Getting Started with
Windows Containers</a></p>

</div>

<p class=ExerciseHeading><a name="_Toc310325841"></a><a name="_Toc300310217"></a><a
name="_Toc504835418"></a><a name="_Toc397503478"></a>Duration: 80 minutes </p>

<p class=ExerciseHeading><a name="_Toc504835419">Exercise 1:  Working with Nano
Server &amp; Windows Server Core Containers</a> </p>

<p class=MsoListParagraphCxSpFirst>In this exercise, you will learn about the
Windows Nano and Server images.  Please read below for an overview of each
image.  Then you will complete the steps to build and run these containers. </p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle><b>Windows Server Core Overview</b></p>

<p class=MsoListParagraphCxSpMiddle>Microsoft stating with Windows Server 2016
has an option of Server Core installation. The Server Core option reduces the
space required on disk, the potential attack surface, and especially the
servicing requirements, its recommend that you choose the Server Core
installation unless you have a need for the additional user interface elements
and graphical management tools that are included in the Server with Desktop
Experience option. For an even more lightweight option, see next section on
Nano Server.  Server Core allows you to install various Server roles that may
not be available in Nano Server including following. For a comprehensive list
of features on Server Core please visit: <a
href="https://technet.microsoft.com/en-us/windows-server-docs/get-started/getting-started-with-server-core">https://technet.microsoft.com/en-us/windows-server-docs/get-started/getting-started-with-server-core</a></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Active Directory Certificate Services</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Active Directory Domain Services</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>DHCP Server</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>DNS Server</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>File Services (including File Server Resource Manager)</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Active Directory Lightweight Directory Services (AD LDS)</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Hyper-V</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Print and Document Services</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Streaming Media Services</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Web Server (including a subset of ASP.NET)</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Windows Server Update Server</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Active Directory Rights Management Server</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Routing and Remote Access Server and the following sub-roles:</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Remote Desktop Services Connection Broker</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Licensing</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Virtualization</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Volume Activation Services</p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle><b>Windows Nano Server Overview </b></p>

<p class=MsoListParagraphCxSpMiddle>Windows Server 2016 offers a new type of
server i-e “Nano Server”. Nano Server is a remotely administered server
operating system which takes up far less disk space, sets up significantly
faster, and requires far fewer updates and restarts than Windows Server Core.
And most importantly when it restarts, it restarts much faster.  Due to these
characteristics Nano Server is a great fit for container workloads. However,
its important to understand that because Nano Server is optimized as a
lightweight operating system for running “cloud-native” applications based on containers
and micro-services there are important differences in Nano Server versus Server
Core or Server with Desktop Experience installations including: (for
comprehensive list of capability differences visit <a
href="https://technet.microsoft.com/windows-server-docs/get-started/getting-started-with-nano-server">https://technet.microsoft.com/windows-server-docs/get-started/getting-started-with-nano-server</a>)</p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Nano Server is &quot;headless;&quot; there is no local logon
capability or graphical user interface.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Only 64-bit applications, tools, and agents are supported.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Nano Server cannot serve as an Active Directory domain
controller.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Group Policy is not supported. However, you can use Desired State
Configuration to apply settings at scale.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Nano Server cannot be configured to use a proxy server to access
the internet.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Best Practices Analyzer (BPA) cmdlets and BPA integration with
Server Manager are not supported.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Nano Server does not support virtual host bus adapters (HBAs).</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Nano Server does not need to be activated with a product key.
When functioning as a Hyper-V host, Nano Server does not support Automatic
Virtual Machine Activation (AVMA). Virtual machines running on a Nano Server
host can be activated using Key Management Service (KMS) with a generic volume license
key or using Active Directory-based activation.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The version of Windows PowerShell provided with Nano Server has
important differences.   </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast>Microsoft offers both Nano Server and Server
Core in the form of Docker images through Docker Hub. Depending on the nature
of application you like to build you may choose among them. For example, SQL
Server 2016 Express image will need Server Core as its base image, but a simple
windows service may able to run just fine on Nano server. In the following exercise,
you will run “hello world” style container based on Nano and Server Core
images.</p>

<p class=TaskHeading>Tasks</p>

<p class=TaskName>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Run a Nano Server</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:1.0in;text-indent:-.25in'><span
style='color:black'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:black'>Go into Labs on Demand (LOD) and start
your Windows VM. </span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='color:black'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:black'>On the LOD popup, click on the Machines
tab, then click on the Ctrl+Alt+Delete button. </span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=685 height=413 id="Picture 6"
src="Lab%202%20-%20Windows%20Containers_files/image001.jpg"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><span
style='color:black'>&nbsp;</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='color:black'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:black'>Click on the Password under the LOD
Machine tab. Then click the arrow to login. </span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=687 height=414 id="Picture 7"
src="Lab%202%20-%20Windows%20Containers_files/image002.jpg"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><span
style='color:black'>&nbsp;</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='color:black'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:black'>You will need to run the commands in
this section using the PowerShell console as an administrator.  Right click the
PowerShell icon on the taskbar and select “Run as Administrator”. </span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><span
style='color:black'>&nbsp;</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in'><img border=0
width=392 height=337 id="Picture 5"
src="Lab%202%20-%20Windows%20Containers_files/image003.png"></p>

<p class=TaskDetail style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:1.0in;text-indent:-.25in'><span
style='color:black'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:black'>The PowerShell console is now available
to you. Make sure you are inside the windows containers labs directory. You can
do that by running the command “</span><b><span style='font-family:Consolas;
color:black'>cd C:\labs\module2\</span></b><span style='color:black'>”. This
will put you inside the windows containers lab folder where all the necessary
files are located. <br>
<br>
</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=718 height=272 id="Picture 3"
src="Lab%202%20-%20Windows%20Containers_files/image004.jpg"><span
style='color:black'><br>
<br>
</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><span
style='color:black'>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='color:black'>First, let’s get the list of all the
container images available on this Docker host by running the command “</span><b><span
style='font-family:Consolas;color:black'>docker images</span></b><span
style='color:black'>”.  Notice that you already have
“microsoft/windowsservercore” and “microsoft/nanoserver” images available to
you representing “Server Core” and “Nano Server” images.  </span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><span
style='color:black'>&nbsp;</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=864 height=136 id="Picture 4"
src="Lab%202%20-%20Windows%20Containers_files/image005.jpg"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><span
style='color:black'>&nbsp;</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><i><span
style='color:black'>NOTE: It’s important to understand that you can always
download specific version of “microsoft/windowsservercore” and
“microsoft/nanoserver” images by using an appropriate tag. For example, “</span></i><i><span
style='font-family:Consolas;color:black'>docker pull
microsoft/windowsservercore:10.0.14393.693</span><span style='color:black'>”
will pull the server core image that has a version number 10.0.14393.693.  All
the concepts you learn about docker (Linux) containers and images generally
apply as-is to windows container too. The main deference is the fact that
windows container requires windows operating system as a host while Linux
container requires Linux operating system.<br>
<br>
</span></i></p>

<p class=MsoListParagraphCxSpLast style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>You
will now run a container based on “Server Core” image
(microsoft/windowsservercore). Before you do that run the command “<span
style='font-family:Consolas'>hostname</span>”. This will reveal the hostname of
your virtual machine. Please note that your host machine name may be different.</p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><img border=0
width=356 height=34 id="Picture 11"
src="Lab%202%20-%20Windows%20Containers_files/image006.png"></p>

<p class=MsoListParagraphCxSpFirst align=center style='margin-left:53.4pt;
text-align:center'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Run
the command “<span style='font-family:Consolas'>docker run -it
microsoft/windowsservercore 'CMD'</span>”. Please be patient as it will take a
minute or so for this command to work.  The “<b>it</b>” switch provides you
with an interactive session. The ‘<b>CMD’</b> is a parameter passed as an
argument which basically gives you access to the CMD (command line) running
inside the container.  Technically, the “<b>it</b>” switch puts you inside a
running container. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt;text-indent:18.6pt'><img
border=0 width=568 height=23 id="Picture 30"
src="Lab%202%20-%20Windows%20Containers_files/image007.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Run
the command “<span style='font-family:Consolas'>hostname</span>”. This time you
are running it inside the running container. Notice that the host name is
different from the hostname you get in step 4. The hostname you see inside the
container is host name of the container as is based on container ID. You may
want to run other commands as you wish or checkout the filesystem.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'><img border=0
width=529 height=88 id="Picture 28"
src="Lab%202%20-%20Windows%20Containers_files/image008.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>10.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Finally, exit the
interactive session by typing “<span style='font-family:Consolas'>exit</span>”
and pressing Enter. This will take you back to the PowerShell console on the
host. </p>

<p class=MsoListParagraphCxSpLast style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'><img border=0
width=127 height=45 id="Picture 9"
src="Lab%202%20-%20Windows%20Containers_files/image009.png"></p>

<p class=MsoNormal style='margin-left:53.4pt'><i>NOTE: Typically, PowerShell on
the host has a blue background but as you go back and forth from container to
host PowerShell the black background color will persist. You can safely ignore
it or if you wish you may launch a new PowerShell Console. If you do that, make
sure to change current directory location where windows container labs are
located. </i></p>

<p class=MsoListParagraphCxSpFirst align=center style='margin-left:53.4pt;
text-align:center'><span class=msportalfx-specpicker-header-title>&nbsp;</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>11.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Now let’s run another
container based on “Nano Server” image (microsoft/nanoserver). To do that run
the command “<span style='font-family:Consolas'>docker run -it
microsoft/nanoserver 'CMD'</span>” (Again note it might take a minute to load)</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt;text-indent:18.6pt'><img
border=0 width=466 height=46 id="Picture 10"
src="Lab%202%20-%20Windows%20Containers_files/image010.jpg"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>12.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Run the command “<span
style='font-family:Consolas'>hostname</span>”. Notice that the host name is
different from host name you get in step 4. The host name you see inside the
container is the host name of the container which is based on container id. You
can run other commands as you wish. </p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'><img border=0
width=529 height=81 id="Picture 31"
src="Lab%202%20-%20Windows%20Containers_files/image011.png"></p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>13.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Finally, exit the
interactive session by typing “<span style='font-family:Consolas'>exit</span>”
and pressing Enter. This will take you back to the PowerShell console on the
host. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>14.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>In this task, you have
created and run containers based on Windows Server Core &amp; Nano Server
container images that Microsoft provides. </p>

<p class=TaskDetail style='margin-left:1.0in'>&nbsp;</p>

<p class=ExerciseHeading><a name="_Toc504835420">Exercise 2:  Building and
Running an IIS Server Windows Container Image</a> </p>

<p class=MsoNormal>In the exercise you will learn how to install IIS Web Server
(Web Server Role) on a Windows Server Core base core image. IIS Server is a
popular Web Server released by Microsoft. Considering the strong footprint of
IIS within the enterprises Microsoft supports IIS on Windows Container. IIS
Server can be installed on both windows server core or nano server. In this
task you will install the IIS Server on windows server core container image.   </p>

<p class=TaskHeading>Tasks</p>

<p class=TaskName>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Build and Run IIS Server Image</p>

<p class=MsoListParagraphCxSpFirst style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Make
sure you have a PowerShell Console open as an administrator (if you have
followed previous task you should already be running a Console). Also, change
the current directory to “<b>iis</b>” by running the command “<span
style='font-family:Consolas'>cd</span>” to get to “<span style='font-family:
Consolas'>labs\module2\iis\</span>”</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt;text-indent:18.6pt'><img
border=0 width=755 height=203 id="Picture 12"
src="Lab%202%20-%20Windows%20Containers_files/image012.png"></p>

<p class=MsoListParagraphCxSpMiddle align=center style='margin-left:53.4pt;
text-align:center'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
iis folder contains the Dockerfile with instructions to install IIS Server (Web
Server Role) on the Windows Server Core base image. Open the Docker file by
running the command “<span style='font-family:Consolas'>Notepad .\Dockerfile</span>”
and press enter. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=486 height=32 id="Picture 13"
src="Lab%202%20-%20Windows%20Containers_files/image013.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Notice
that Notepad is opened with the content of Dockerfile. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>The FROM
instruction points to the microsoft/windowsservercore to be used as a base
image for the new container image. The RUN instruction executes PowerShell to
install Windows Feature “Web Server” (IIS Server). The next command is the ADD
instruction which copy the “ServiceMonitor.exe”  utility to the container
image. The ServiceMonitor.exe is a utility that monitors we3svc service inside
the container, if the service fails the exe fails, so Docker knows the
container is unhealthy. The ServiceMonitor.exe is developed and released by
Microsoft (<a
href="https://github.com/Microsoft/iis-docker/tree/master/windowsservercore)">https://github.com/Microsoft/iis-docker/tree/master/windowsservercore)</a>.
Finally, the ENTRYPOINT instruction make sure that monitoring of w3svc begins
immediately as soon as container starts running. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle align=center style='margin-left:53.4pt;
text-align:center'><img border=0 width=645 height=276 id="Picture 16"
src="Lab%202%20-%20Windows%20Containers_files/image014.png"></p>

<p class=MsoListParagraphCxSpMiddle align=center style='margin-left:53.4pt;
text-align:center'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>To
build the new image with IIS installed on it run the command “<span
style='font-family:Consolas'>docker build -t myiis:v1 .</span>”. This command
builds a new container image with name “<b>myiis</b>” and tag “<b>v1</b>”. That
tag conveniently tells everyone about the information of version of the image. 
Please note that the STEP 3/6 of the build process performs the installation of
Web-Server (IIS Server) and may take few minutes. Eventually you should see the
results like following.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt;text-indent:18.6pt'><img
border=0 width=720 height=186 id="Picture 14"
src="Lab%202%20-%20Windows%20Containers_files/image015.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Now
you can a run a new container based on “<b>myiis:v1”</b> image by using command:<br>
“<span style='font-family:Consolas'>docker run -d -p 80:80 myiis:v1</span>”. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt;text-indent:18.6pt'><img
border=0 width=713 height=40 id="Picture 15"
src="Lab%202%20-%20Windows%20Containers_files/image016.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:53.4pt'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
container ID is shown after the run command (“154” in the above screenshot), or
by using “<span style='font-family:Consolas'>docker ps</span>”.  To get the IP
address of the container, run the following command:</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'><span style='font-family:
Consolas'>docker inspect &lt;container id&gt; | FINDSTR &quot;IPAddress&quot;</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'><img border=0
width=719 height=74 id="Picture 18"
src="Lab%202%20-%20Windows%20Containers_files/image017.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Open
any web browser of your choice and browse to the IP address from the previous
step. </p>

<p class=MsoListParagraphCxSpLast style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'><img border=0
width=477 height=373 id="Picture 19"
src="Lab%202%20-%20Windows%20Containers_files/image018.jpg"></p>

<p class=MsoNormalCxSpFirst style='margin-left:1.0in'><i>Note:  In the Windows
world the loopback side of this doesn't work right now, only the external
request routing. If you browse to http://localhost on the container host, you
won't see the site because of a limitation in the default NAT network stack.</i></p>

<p class=MsoNormalCxSpMiddle style='margin-left:1.0in'><i>Container endpoints
are only reachable from the Windows host using the container's IP and port. You
can get the container's IP address with docker inspect command also:</i></p>

<p class=MsoNormalCxSpMiddle style='margin-left:1.0in'><i>&nbsp;</i></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.1in;margin-bottom:6.0pt;
margin-left:67.5pt'><i>“docker inspect --format '{{
.NetworkSettings.Networks.nat.IPAddress }}' &lt;&lt;container-id&gt;&gt;”</i></p>

<p class=TaskDetail>&nbsp;</p>

<p class=TaskDetail>This concludes the exercise on creating a new image with
IIS server on it. If you are looking to leverage IIS server beyond this lab,
then you may want to use Microsoft official IIS server image (microsoft/iis)
which is available at (<a href="https://hub.docker.com/r/microsoft/iis/)">https://hub.docker.com/r/microsoft/iis/)</a>.
You will be using it later in this lab. The underlying process is pretty much
same but main benefit of using official IIS image is that Microsoft release
updated images on regular basis including patches and fixes.      </p>

<p class=MsoListParagraph style='margin-top:0in;margin-right:0in;margin-bottom:
8.0pt;margin-left:1.0in;line-height:107%'>&nbsp;</p>

<p class=ExerciseHeading><a name="_Toc504835421">Exercise 3:  Building and
Running ASP.NET 4.5 Application in a Container Image</a> </p>

<p class=MsoNormal>In this task, you will learn how to package an existing
ASP.NET 4.5 web application into a container.  It’s important to understand that
Microsoft supports both the latest .NET frameworks like .NET Core, ASP.NET Core
etc. and more legacy .NET Frameworks like .NET 3.5, .NET 4.5 and ASP.NET 4.5 on
Windows Containers. Most customers today have heavy investments on some of the
legacy Microsoft technologies, and Microsoft likes to make sure that they can
still move towards application containerization not only for new applications
but also for legacy applications.   </p>

<p class=MsoNormal><i>NOTE: You can find more comprehensive list of application
frameworks supported by Microsoft on Windows Containers at: </i><a
href="https://docs.microsoft.com/en-us/virtualization/windowscontainers/samples#Application-Frameworks">https://docs.microsoft.com/en-us/virtualization/windowscontainers/samples#Application-Frameworks</a></p>

<p class=TaskHeading>Tasks</p>

<p class=TaskName>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Build and Run ASP.NET 4.5 MVC Application</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:1.0in;text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Make
sure you have a PowerShell Console open as an administrator (if you have
followed previous task you should already be running a Console). Also, change
the current directory to “aspnet4.5” by running the command “<span
style='font-family:Consolas'>cd</span>” to get to “<span style='font-family:
Consolas'>\labs\module2\aspnet4.5\</span>”.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=402 height=61 id="Picture 20"
src="Lab%202%20-%20Windows%20Containers_files/image019.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Before
proceeding further let’s stop and remove all the running containers from
previous task. Run the command <br>
“<span style='font-family:Consolas'>docker rm -f (docker ps -aq)</span>”</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=741 height=74 id="Picture 21"
src="Lab%202%20-%20Windows%20Containers_files/image020.jpg"> </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Let’s
examine the Dockerfile. Open it in Notepad by running the command “<span
style='font-family:Consolas'>Notepad .\Dockerfile</span>”.  See the text below
for an explanation of the commands in the Dockerfile image. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=558 height=24 id="Picture 24"
src="Lab%202%20-%20Windows%20Containers_files/image021.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=579 height=254 id="Picture 87"
src="Lab%202%20-%20Windows%20Containers_files/image022.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>You will notice
that this Dockerfile is bit richer in instructions than the one we saw in
previous exercise. This is quite common particularly for “Brown Field Development”
where you’re basically packaging an existing application into a container
image. Remember, the best heuristic to follow when packaging legacy
applications is to keep the container image follow “Single Responsibility
Principle” which means single well-defined functionality per container image.
You are following this principle as in this case we only going to run a single
asp.net 4.5 web application running on the container and nothing else. Off
course in other cases there may be exceptions to this and you may encounter
legacy applications that are design in a certain fashion that means during
first iteration to containerize them you have to package them as-is and then
look into ways to re-design them for containers.  </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>The first
instruction in the Dockerfile asking docker to leverage the latest IIS base
image that is released by Microsoft (microsoft/iis:latest) on Docker Hub. In
this particular case, our web application does not have any specific
dependencies on particular version of IIS but you should always point to
specific version as needed. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>Next is the SHELL
instruction basically making PowerShell as default program when running
instructions. The RUN commands installs .NET 4.5 and ASP.NET 4.5 which are
available as Windows Feature. This is needed as the default IIS image does not
have these two frameworks installed. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>The COPY
instruction simply copies the entire content of WebAppLegacy folder into the
folder with the same name inside the image. A folder will be created inside the
image as it won’t exist prior to this instruction. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>The actual
content that constitutes the ASP.NET Web Application resides inside the
WebAppLegacy folder. You can examine them, but they are basically based on
vanilla ASP.NET WebApplication template that ships with Visual Studio 2015. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>The next RUN
command removes the the default port 80 website on IIS using Remove-WebSite
PowerShell Cmdlet. This serves two purposes: First we don’t want anything extra
running on the IIS to make sure all the resources allocated to our web
application. Secondly, we also want to use default port 80 for the custom web
application and not for any other web application.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'> </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>The next
instruction creates a new web application on IIS using New-WebSite PowerShell
Cmdlet and then point to the folder where WebLegacyApp is copied by the earlier
instruction. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>The EXPOSE
instruction exposes (or opens) the port 80 for incoming connections. You can
expose multiple ports too if needed by listing them together in the same EXPOSE
instruction and separate them using a space character e.g. EXPOSE 80 8080 5000.
</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.5in'>Finally, the CMD
instruction uses the Windows “ping” utility to probe the localhost. This
instruction is needed at the time of this writing to keep the IIS process alive,
but this may change in the future. We will keep it as-is for now.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Build
a new image with web application packaged inside it by running the command </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>“<span
style='font-family:Consolas'>docker build -t aspnetapp:v4.5</span> .”   </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>Notice that the
tag “v4.5” indicates the version number of ASP.NET framework. This use of tag
is optional but recommended. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=689 height=164 id="Picture 29"
src="Lab%202%20-%20Windows%20Containers_files/image023.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>Note: The build
process to create a new container image will take few minutes. You will see the
progress of all the steps as they are happening, so you will know the overall
progress.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>To
run a container with the ASP.NET 4.5 web application based on new container
image run the command: <br>
“<span style='font-family:Consolas'>docker run -d -p 80:80 aspnetapp:v4.5</span>”</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'> <img border=0
width=742 height=33 id="Picture 684"
src="Lab%202%20-%20Windows%20Containers_files/image024.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'><a
name="_Hlk514346648">6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Run the following to get the IP address (remember the container ID comes
from the previous run step):</a></p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'><span style='font-family:
Consolas'>docker inspect &lt;container id&gt; | FINDSTR &quot;IPAddress&quot;</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=729 height=64 id="Picture 686"
src="Lab%202%20-%20Windows%20Containers_files/image025.jpg"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in;text-indent:-.25in'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Open
web browser of your choice and browse to the IP address from the previous
step.  This will take you to the Home page of the ASP.NET 4.5 Web Application.
It may take few seconds for the home page to load for the first time since IIS
Application Pool takes a hit for serving the first page. Subsequent navigation
to other pages will be much faster. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><i>NOTE: The
Register and Login links are not implemented as they require SQL Server
Database on the backend. Working with SQL Server inside Containers is covered
in the next task. You will also connect this web application to the backend in
the same task.</i></p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><img border=0
width=526 height=368 id="Picture 696"
src="Lab%202%20-%20Windows%20Containers_files/image026.jpg"> </p>

<p class=MsoListParagraph style='margin-left:1.0in'><span style='font-family:
Consolas'>&nbsp;</span></p>

<p class=ExerciseHeading><a name="_Toc504835422">Exercise 4:  Building and
Running SQL Server 2016 in a Container Image</a> </p>

<p class=MsoNormal>Microsoft SQL Server is one of the most commonly use
database server in the market today. Microsoft has made an investment to ensure
that customers moving towards containers have an ability to leverage SQL Server
through a container image. Currently Microsoft has released container images
for Microsoft SQL Server 2016 for both Linux (<a
href="https://hub.docker.com/r/microsoft/mssql-server-linux">https://hub.docker.com/r/microsoft/mssql-server-linux</a>)
and for Windows including Microsoft SQL Server Express Edition (<a
href="https://hub.docker.com/r/microsoft/mssql-server-windows-express">https://hub.docker.com/r/microsoft/mssql-server-windows-express</a>)
and Microsoft SQL Server (180 days public preview of Enterprise Edition : <a
href="https://hub.docker.com/r/microsoft/mssql-server-windows">https://hub.docker.com/r/microsoft/mssql-server-windows</a>)
</p>

<p class=MsoNormal>NOTE: Microsoft SQL Server 2016 as a product ships in
various editions. For full comparison between several editions please visit:  <a
href="https://docs.microsoft.com/en-us/sql/sql-server/editions-and-supported-features-for-sql-server-2016">https://docs.microsoft.com/en-us/sql/sql-server/editions-and-supported-features-for-sql-server-2016</a>
</p>

<p class=MsoNormal>In this lab, you will work with Microsoft SQL Server 2016
Express container image to run a custom database that can store user related
information. You will first learn how to associate relevant SQL Server database
files to SQL Server container image. Then you will connect the Web Application
that you package and run as a container in previous task to the database
running inside the SQL Server container. Basically, you will end up with web
application running in a container talking to a database in another container.
This is very common scenario so understanding how it works is important.   Let’s
start by running a SQL Server Express container with the custom database. </p>

<p class=TaskHeading>Tasks</p>

<p class=TaskName>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>SQL Server 2016 Container Image</p>

<p class=MsoListParagraphCxSpFirst style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Make
sure you have a PowerShell Console open as an administrator (if you have
followed previous task you should already be running a PowerShell Console). <a
name="_Hlk514347185">Also, change the current directory to “<b>labs\module2\sqlserver2016”</b>”
by using the <b>“</b>cd<b>” </b>command<b>. </b></a></p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:.5in'><img
border=0 width=498 height=55 id="Picture 697"
src="Lab%202%20-%20Windows%20Containers_files/image027.png"></p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'><span
style='font-family:"Consolas,Calibri Light",serif'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Before proceeding further let’s stop and remove all the running
containers from previous task. Run the command “<span style='font-family:Consolas'>docker
stop (docker ps -aq) ; docker rm (docker ps -aq)</span><span style='font-family:
"Consolas,Calibri Light",serif'>”</span></p>

<p class=MsoListParagraphCxSpMiddle><span style='font-family:Consolas'>&nbsp;</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:.5in'><img
border=0 width=864 height=48 id="Picture 698"
src="Lab%202%20-%20Windows%20Containers_files/image028.jpg"></p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Let’s
examine the docker command needed to run the sql server express edition with
the custom database. Open the notepad by running the command “<span
style='font-family:Consolas'>Notepad .\command.txt</span>”.   </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.25in'><img border=0
width=615 height=20 id="Picture 699"
src="Lab%202%20-%20Windows%20Containers_files/image029.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.25in'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Notice
the docker run command has various parameters. Following table provide
description for parameters specific to SQL server.</p>

<p class=MsoNormal align=center style='text-align:center'><img border=0
width=655 height=136 id="Picture 652"
src="Lab%202%20-%20Windows%20Containers_files/image030.png"></p>

<p class=MsoNormal><i><u>Description</u></i></p>

<div align=center>

<table class=MsoTable15Grid4Accent1 border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none'>
 <tr>
  <td width=251 valign=top style='width:188.5pt;border:solid #4F81BD 1.0pt;
  border-right:none;background:#4F81BD;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='color:white'>Parameter </span></b></p>
  </td>
  <td width=612 valign=top style='width:459.0pt;border:solid #4F81BD 1.0pt;
  border-left:none;background:#4F81BD;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b><span style='color:white'>Description </span></b></p>
  </td>
 </tr>
 <tr>
  <td width=251 valign=top style='width:188.5pt;border:solid #95B3D7 1.0pt;
  border-top:none;background:#DBE5F1;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b>sa_password</b></p>
  </td>
  <td width=612 valign=top style='width:459.0pt;border-top:none;border-left:
  none;border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;
  background:#DBE5F1;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'>The system administrator (userid = 'sa') password used to connect to
  SQL Server once the container is running. The password in this case is
  provided in plain text for brevity. However, best practice is to use secrets
  in Docker: <a
  href="https://docs.docker.com/engine/reference/commandline/secret">https://docs.docker.com/engine/reference/commandline/secret</a>
  </p>
  </td>
 </tr>
 <tr>
  <td width=251 valign=top style='width:188.5pt;border:solid #95B3D7 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b>ACCEPT_EULA</b></p>
  </td>
  <td width=612 valign=top style='width:459.0pt;border-top:none;border-left:
  none;border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'>Confirms acceptance of the end user licensing agreement found&nbsp;<a
  href="http://go.microsoft.com/fwlink/?LinkId=746388">here</a>.</p>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'>&nbsp;</p>
  </td>
 </tr>
 <tr>
  <td width=251 valign=top style='width:188.5pt;border:solid #95B3D7 1.0pt;
  border-top:none;background:#DBE5F1;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b>attach_dbs</b></p>
  </td>
  <td width=612 valign=top style='width:459.0pt;border-top:none;border-left:
  none;border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;
  background:#DBE5F1;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'>The configuration for attaching custom DBs (.mdf, .ldf files) in a
  JSON format. In this particular case the files are provided as part of lab
  and named “WebAppLegacyDB.ldf” and “WebAppLegacyDB.mdf”</p>
  </td>
 </tr>
 <tr>
  <td width=251 valign=top style='width:188.5pt;border:solid #95B3D7 1.0pt;
  border-top:none;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b>-e </b></p>
  </td>
  <td width=612 valign=top style='width:459.0pt;border-top:none;border-left:
  none;border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'>Flag that is used to pass environment variables to the container. In
  this particular case password, license eula and sql database files location
  are passed as environment variable.   </p>
  </td>
 </tr>
 <tr>
  <td width=251 valign=top style='width:188.5pt;border:solid #95B3D7 1.0pt;
  border-top:none;background:#DBE5F1;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><b>-v</b></p>
  </td>
  <td width=612 valign=top style='width:459.0pt;border-top:none;border-left:
  none;border-bottom:solid #95B3D7 1.0pt;border-right:solid #95B3D7 1.0pt;
  background:#DBE5F1;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:#1D3344'>Flag that is used to share volumes across
  container(s). The basic idea of a volume is to keep files on the host system
  and make them available/share them inside the container. This is particularly
  helpful in this case as database files may become large over time so rather
  than bulking container with them you map them using volume and they will be
  available inside the container as if they are located locally inside a
  container. Another benefit of using volumes is that files on the host persist
  beyond the container lifecycle making them available for later usage.  </span></p>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:#1D3344'>&nbsp;</span></p>
  <p class=MsoNormal style='margin-bottom:0in;margin-bottom:.0001pt;line-height:
  normal'><span style='color:#1D3344'>NOTE: Volumes are covered in depth in the
  Docker advance concepts lab. You can read more about volumes at: </span><a
  href="https://docs.docker.com/engine/reference/commandline/volume">https://docs.docker.com/engine/reference/commandline/volume</a><span
  style='color:#1D3344'> </span></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'><a
name="_Hlk514347241">5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Execute the following command. <span style='background:yellow'>Make sure
to copy the command from the Notepad on your VM to avoid typing as that may
introduce typos.</span>  </a></p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.25in'><img border=0
width=864 height=347 id="Picture 700"
src="Lab%202%20-%20Windows%20Containers_files/image031.jpg"></p>

<p class=MsoNormal style='margin-left:71.0pt;text-indent:1.0pt'>&nbsp;</p>

<p class=MsoListParagraphCxSpFirst style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Let’s
get inside the running SQL Server container and examine the database. To do
that you will need CONTAINER ID. Run the command “<span style='font-family:
Consolas'>docker ps</span>” and capture the CONATAINER ID. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.25in'><img border=0
width=864 height=67 id="Picture 701"
src="Lab%202%20-%20Windows%20Containers_files/image032.jpg"></p>

<p class=MsoListParagraphCxSpMiddle style='text-indent:.5in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle> </p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Let’s
first look at the SQL Server using SQL Server Management Studio 2017 which has
been pre-installed on your VM.  It will be pinned to your taskbar. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'><img border=0
width=605 height=36 id="Picture 1"
src="Lab%202%20-%20Windows%20Containers_files/image033.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Make
sure you keep Server type as Database Engine.  Server name will be the
container ID you got from running the “docker ps” command. Change
Authentication to SQL Server Authentication. Login username will be “sa” and
the password is “P@ssw0rd”. See the following screenshot to verify your
settings are the same. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'><img border=0
width=493 height=333 id="Picture 17"
src="Lab%202%20-%20Windows%20Containers_files/image034.jpg"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Hit
the plus sign next to Databases.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>10.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Hit the plus sign next
to WebAppLegacyDB.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>11.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Hit the plus sign next
to Tables. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>12.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Right click on
dbo.AspNetUsers and hit Select top 1000 Rows.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'><img border=0
width=524 height=424 id="Picture 22"
src="Lab%202%20-%20Windows%20Containers_files/image035.jpg"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>13.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Feel free to view any
other tables. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>14.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Secondly, let’s look
at the SQL Server via command line interactively. Now run the command: <br>
“<span style='font-family:Consolas'>docker exec -it CONTAINER-ID sqlcmd -U sa</span>”
to launch an interactive session with container. Replace the CONTAINER ID with
actual container id of running SQL server container. The sqlcmd is a basic
command-line utility provided by Microsoft (<a
href="https://docs.microsoft.com/en-us/sql/relational-databases/scripting/sqlcmd-use-the-utility)">https://docs.microsoft.com/en-us/sql/relational-databases/scripting/sqlcmd-use-the-utility)</a>
for ad hoc, interactive execution of Transact-SQL statements and scripts.</p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:.5in'><img
border=0 width=306 height=31 id="Picture 8"
src="Lab%202%20-%20Windows%20Containers_files/image036.png"></p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>15.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>You will need to
provide the password (same password you used in step 5: “P@ssw0rd”) to connect
to the SQL server. Once you enter the password you will have a sqlcmd utility
prompt available to you for running Transact SQL statements. </p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:.5in'><img
border=0 width=283 height=48 id="Picture 654"
src="Lab%202%20-%20Windows%20Containers_files/image037.png"></p>

<p class=MsoListParagraphCxSpMiddle align=center style='text-align:center'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>16.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Let’s begin by listing
down all the databases available by running the command </p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'><span
style='font-family:Consolas'>SELECT name FROM master.dbo.sysdatabases</span></p>

<p class=MsoListParagraphCxSpLast style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'><span
style='font-family:Consolas'>GO</span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:.25in'><img border=0
width=517 height=302 id="Picture 655"
src="Lab%202%20-%20Windows%20Containers_files/image038.png"></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:1.25in'>Notice that “<b>WebAppLegacyDB</b>”
is listed at the very bottom. Please, ignore the background color which may get
blended with PowerShell Console default blue background color. </p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>17.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Now, run the following
commands one line at a time to display the list all the tables available inside
the “<b>WebAppLegacyDB</b>” database.</p>

<p class=MsoNormal style='margin-left:1.25in'><span style='font-family:Consolas'>USE
WebAppLegacyDB</span></p>

<p class=MsoNormal style='margin-left:1.25in'><span style='font-family:Consolas'>SELECT
* FROM SYS.TABLES</span></p>

<p class=MsoNormal style='margin-left:1.25in'><span style='font-family:Consolas'>GO</span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:.75in;text-indent:.5in'><img
border=0 width=303 height=55 id="Picture 656"
src="Lab%202%20-%20Windows%20Containers_files/image039.png"></p>

<p class=MsoListParagraphCxSpMiddle>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>18.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Finally, list the
Email of all the users inside the table <b>AspNetUsers</b> table by running the
command:</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'><span
style='font-family:Consolas'>SELECT Email FROM AspNetUsers</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'><span
style='font-family:Consolas'>GO</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'> </p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'>..and then hit enter. Notice
that there are a few entries in the table that already exist. </p>

<p class=MsoListParagraphCxSpMiddle> </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:.5in'><img
border=0 width=282 height=194 id="Picture 657"
src="Lab%202%20-%20Windows%20Containers_files/image040.png"></p>

<p class=MsoListParagraphCxSpMiddle align=center style='text-align:center'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>19.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>You can now exit the
sqlcmd utility by running the command “<span style='font-family:"Consolas,Calibri Light",serif'>exit</span>”.
This will end the interactive session with the container and you will be placed
back inside the PowerShell Console on the host. </p>

<p class=ExerciseHeading><a name="_Toc504835423">Exercise 5:  Making ASP.NET
4.5 Container Connection to SQL Server Container</a> </p>

<p class=MsoNormal>In this exercise, we will connect our ASP.NET project to our
SQL Server and display that they can communicate to one another from separate containers.
</p>

<p class=TaskHeading>Tasks</p>

<p class=TaskName>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Connect the two containers. </p>

<p class=MsoListParagraphCxSpFirst style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>First,
you will need the IP address of the container running the SQL Server. To do
that you will need to establish the interactive session with the container. Run
the command “<span style='font-family:Consolas'>docker exec CONTAINER-ID ipconfig</span><span
style='font-family:"Consolas,Calibri Light",serif'>” </span>which starts the
interactive session with the container and give you access to the PowerShell
console inside the container. You can refer to previous task which explains how
to capture the CONTAINER ID. To gather the IP address, note down the <b>IPV4
address</b> (e.g. 172.20.166.217) as you will need it later.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=623 height=225 id="Picture 33"
src="Lab%202%20-%20Windows%20Containers_files/image041.jpg"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Exit
the interactive session by typing “<span style='font-family:Consolas'>exit</span>”.
</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>You
will now update the connection string inside the <b>web.config file</b> for the
<b>WebAppLegacy</b> web application. This is the same web application you
worked with in previous task. To do that first change the current folder
location to “<b>WebAppLegacy</b>” folder by running the command <span
style='font-family:"Consolas,Calibri Light",serif'>“</span><span
style='font-family:Consolas'>cd C:\labs\module2\aspnet4.5\WebAppLegacy\</span><span
style='font-family:"Consolas,Calibri Light",serif'>”.</span></p>

<p class=MsoNormal style='margin-left:.5in;text-indent:.5in'><img border=0
width=559 height=61 id="Picture 37"
src="Lab%202%20-%20Windows%20Containers_files/image042.png"></p>

<p class=MsoListParagraph style='margin-top:0in;margin-right:0in;margin-bottom:
8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span> Open
the <b>web.config</b> file to edit the connection string in it by typing the
command “<span style='font-family:Consolas'>Notepad .\web.config</span><span
style='font-family:"Consolas,Calibri Light",serif'>”</span></p>

<p class=MsoNormal style='margin-left:1.0in'><img border=0 width=702 height=21
id="Picture 38" src="Lab%202%20-%20Windows%20Containers_files/image043.png"></p>

<p class=MsoListParagraphCxSpFirst style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Locate
the <b>&lt;connectionStrings&gt;</b> section inside the <b>web.config</b>.
Then, change the value of “<b><span style='font-family:Consolas'>Data
Source=0.0.0.0</span></b><span style='font-family:Consolas'>” to “<b>Data
Source = CONTAINER IP ADDRESS</b></span>”. Where CONTAINER IP ADDRESS is the IP
Address you capture in the previous task (e.g. 172.28.45.61)</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'><img border=0
width=715 height=203 id="Picture 39"
src="Lab%202%20-%20Windows%20Containers_files/image044.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>Make sure you
save the <b>web.config</b> with the updated Data Source value. Finally, close
the notepad.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'><i>NOTE: You may
be wondering the way we updated the values inside web.config file may not be
the ideal way as its seems error prone and hard to scale. There is a better way
and that is to use docker compose. Basically, docker compose allows you to
declare dependencies between the containers which exactly what we need in this
case. The web application is dependent on the database and specially needs data
source values which can be server name of the database container. You will
learn and explore docker compose in the Docker advanced concepts lab. Also,
sometimes for ad-hoc testing it may make sense to use the approach used in this
section.     </i></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>You
are now ready to create a new container image for the WebLegacyApp web
application with updated web.config file. First, let’s change the current
directory to “<b>aspnet45</b>” where the Dockerfile is located by running the
command “<span style='font-family:Consolas'>cd ..</span>” </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=690 height=37 id="Picture 40"
src="Lab%202%20-%20Windows%20Containers_files/image045.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span> Now,
build the container image for the WebLegacyApp by running the command “<span
style='font-family:Consolas'>docker build -t aspnetapp:v4.5-with-db .</span>”</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'><span
style='font-family:Consolas'>&nbsp;</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=781 height=585 id="Picture 41"
src="Lab%202%20-%20Windows%20Containers_files/image046.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>Notice that this
time the build process is much faster compare to the last time when you build
the container image for the same web application for the first time. This is
because Docker already has most of the layers that goes inside the container
image present in the cache (labelled as --&gt; using cache in the output).
Layers are covered in depth in the Docker advanced concepts lab.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>You
are now ready to run the container with the web application. Run the command   “<span
style='font-family:Consolas'>docker run -d -p 80:80 aspnetapp:v4.5-with-db</span>”</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=828 height=46 id="Picture 42"
src="Lab%202%20-%20Windows%20Containers_files/image047.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Get
the IP Address of the container you just ran:</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'>docker inspect &lt;container
id&gt; | FINDSTR &quot;IPAddress&quot;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'><img border=0
width=787 height=71 id="Picture 43"
src="Lab%202%20-%20Windows%20Containers_files/image048.jpg"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;line-height:107%'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.0in;text-indent:-.25in;line-height:107%'>10.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>To test that
connection to database open web browser of your choice and browse to then IP
address from the previous step.  This will take you to the Home page the Web
Application. It may take few seconds for the home page to load for the first
time since IIS Application Pool takes a hit for serving the first page.
Subsequent navigation to other pages will be much faster. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>On the home page
click on the Register link located of the top right. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=288 height=107 id="Picture 50"
src="Lab%202%20-%20Windows%20Containers_files/image049.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>On the
registration page enter new user Email (e.g. <a
href="mailto:admin1@consoto.com)">admin1@consoto.com)</a> and strong password
with a capital letter, number, and a special character. Once done click on the
Register button. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=497 height=196 id="Picture 44"
src="Lab%202%20-%20Windows%20Containers_files/image050.png"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>This will trigger
the connection to database to create a new user. You will also be Logged in
with the new user as shown below. Notice the welcome <a
href="mailto:admin1@contoso.com">admin1@contoso.com</a> message on the top
right instead of a Register link.</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'><img border=0
width=797 height=323 id="Picture 45"
src="Lab%202%20-%20Windows%20Containers_files/image051.jpg"></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'> </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>As an additional
test you can establish the interactive session with the container (using
instructions from previous task) and run sqlcmd utility to query the Email of
all users inside the <b>AspNetUsers</b> table. Notice the new user with Email <a
href="mailto:admin1@contoso.com">admin1@contoso.com</a> is now available inside
the database. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.0in'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in'><img border=0
width=320 height=124 id="Picture 53"
src="Lab%202%20-%20Windows%20Containers_files/image052.png"></p>

<p class=ExerciseHeading><a name="_Toc504835424">Exercise 6:  Building an
ASP.NET Core Application</a></p>

<p class=MsoNormal>In the previous task you built container images using some
of the more mature technologies and products released by Microsoft. In this
task, you will build container that will run ASP.NET Core Web Application.  If
you completed the Module 1 lab, then this is very similar however, now we will
now build the Core application on Windows instead of Linux. </p>

<p class=MsoNormal>ASP.NET Core is a significant step forward for Microsoft to
allow ASP.NET to run cross platform including MacOS, Linux and Windows. ASP.NET
sits on top of .NET Core so this cross-platform support is of course included
in the .NET Framework. </p>

<p class=MsoNormal><i>NOTE</i>: To understand when to use .NET Core and when to
use .NET Framework please read article: <a
href="https://docs.microsoft.com/en-us/dotnet/articles/standard/choosing-core-framework-server">https://docs.microsoft.com/en-us/dotnet/articles/standard/choosing-core-framework-server</a></p>

<p class=MsoNormal>In this task, you will first install the .NET Core Framework
on the Windows Server 2016 for Container virtual machine. You will then package
a simple ASP.NET Core MVC application into container image using Dockerfile.
Finally, you will run container hosting the ASP.NET Core application using
docker run command.</p>

<p class=MsoNormal>In this exercise, you will learn to add an ASP.NET Core
project into a Container on Windows.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:.1in;margin-bottom:3.0pt;
margin-left:0in;page-break-after:avoid'><b><span style='font-size:14.0pt;
line-height:115%;font-family:"Segoe UI",sans-serif;color:#365F91'>Tasks</span></b></p>

<p class=MsoNormal style='margin-top:0in;margin-right:.1in;margin-bottom:6.0pt;
margin-left:.75in;text-indent:-.25in'><b><span style='color:black'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></b><b><span
style='color:black'>Building and Running ASP.NET Core 2.x Application Inside
Container </span></b></p>

<p class=MsoNormalCxSpMiddle style='margin-top:0in;margin-right:0in;margin-bottom:
8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>In
this exercise, you will build ASP.NET Core 2.x application and then package and
run it as a container.  </p>

<p class=MsoNormalCxSpMiddle style='margin-top:0in;margin-right:0in;margin-bottom:
8.0pt;margin-left:1.25in;line-height:107%'>&nbsp;</p>

<p class=MsoNormalCxSpLast style='margin-top:0in;margin-right:0in;margin-bottom:
8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'><a
name="_Hlk514346760">2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Change to the relevant directory by using “</a><span style='font-family:
Consolas'>cd</span>” to go to the path: module2\aspnetcore.</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:1.25in'><img border=0
width=409 height=59 id="Picture 46"
src="Lab%202%20-%20Windows%20Containers_files/image053.png"></p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.25in'>&nbsp;</p>

<p class=MsoNormalCxSpFirst style='margin-top:0in;margin-right:0in;margin-bottom:
8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'><a
name="_Hlk514346802">3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>You are provided with a Dockerfile. View the content of Dockerfile by
running a command “</a><span style='font-family:Consolas'>Notepad .\Dockerfile</span>”.
The Dockerfile should look like below (note this is a multi-stage Dockerfile
and will be explained in further detail in the next module’s presentation). 
The reason the .csproj is copied first is that if there are no changes to the
project dependencies, it is easy to use the same cached layers during the
Docker build step. </p>

<p class=MsoNormalCxSpMiddle style='margin-top:0in;margin-right:0in;margin-bottom:
8.0pt;margin-left:1.25in;line-height:107%'>&nbsp;</p>

<p class=MsoNormalCxSpMiddle style='margin-top:0in;margin-right:0in;margin-bottom:
8.0pt;margin-left:1.25in;line-height:107%'><img border=0 width=413 height=301
id="Picture 56" src="Lab%202%20-%20Windows%20Containers_files/image054.png"></p>

<p class=MsoNormal style='margin-bottom:8.0pt;line-height:107%'>&nbsp;</p>

<p class=MsoNormalCxSpMiddle style='margin-top:0in;margin-right:0in;margin-bottom:
8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>To
create the container image run the command “<a name="_Hlk514346992"><span
style='font-family:Consolas'>docker build -t aspnetcoreapp:2.0 .</span></a>”</p>

<p class=MsoNormalCxSpMiddle style='margin-top:0in;margin-right:0in;margin-bottom:
8.0pt;margin-left:1.25in;line-height:107%'>Notice the use of tag “2.0” that
signifies the use of framework dotnet core.</p>

<p class=MsoNormal style='margin-top:0in;margin-right:0in;margin-bottom:8.0pt;
margin-left:1.25in;line-height:107%'>                              <img
border=0 width=754 height=277 id="Picture 57"
src="Lab%202%20-%20Windows%20Containers_files/image055.png"></p>

<p class=MsoNormalCxSpMiddle style='margin-top:0in;margin-right:0in;margin-bottom:
8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Launch
the container running the app inside it by running the command “<a
name="_Hlk514347021"><span style='font-family:Consolas'>docker run -d -p
8080:80 aspnetcoreapp:2.0</span></a>”.</p>

<p class=MsoNormalCxSpLast style='margin-top:0in;margin-right:0in;margin-bottom:
8.0pt;margin-left:1.25in;line-height:107%'><img border=0 width=832 height=39
id="Picture 58" src="Lab%202%20-%20Windows%20Containers_files/image056.png"></p>

<p class=MsoListParagraphCxSpFirst style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'><a
name="_Hlk514347054">6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>You are now running ASP.NET Core application inside the container
listening at port 80 which is mapped to port 8080 on the host. Get the IP
Address of the container you just ran:</a></p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'>“<span
style='font-family:Consolas'>docker inspect &lt;container id&gt; | FINDSTR
&quot;IPAddress</span>&quot;</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'><img border=0
width=788 height=74 id="Picture 59"
src="Lab%202%20-%20Windows%20Containers_files/image057.png"><br>
<br>
</p>

<p class=MsoListParagraphCxSpLast style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>To
see the ASP.NET Core web application in action open any web browser of your
choice and browse to your IP address.  This will take you to the Home page the
Web Application.</p>

<p class=MsoNormal style='margin-left:.75in;text-indent:.5in'><img border=0
width=740 height=440 id="Picture 60"
src="Lab%202%20-%20Windows%20Containers_files/image058.jpg"></p>

<p class=MsoListParagraphCxSpFirst style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;text-indent:-.25in;line-height:107%'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>This
concludes the task on building and running ASP.NET Core web application inside
a container. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.25in;text-indent:-.25in'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Run
the following command to stop and remove all running containers. </p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:1.25in'>“<span
style='font-family:Consolas'>docker stop (docker ps -aq) ; docker rm (docker ps
-aq)</span>”</p>

<p class=MsoListParagraphCxSpMiddle style='margin-top:0in;margin-right:0in;
margin-bottom:8.0pt;margin-left:1.25in;line-height:107%'>&nbsp;</p>

<p class=MsoListParagraphCxSpLast style='margin-left:1.0in'>&nbsp;</p>

</div>

</body>

</html>
